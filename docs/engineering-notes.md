# ポートフォリオ実装メモ

技術面接などで質問された際に答えられるよう、このプロジェクトで特に意識したポイントをまとめています。

## 1. フォーム UX と安全性
- `react-hook-form` を導入し、入力値のトリムやアラート表示をカスタムバリデーションで一元管理。
- EmailJS は `import()` による遅延読み込みにして、フォーム送信時のみ依存モジュールが評価されるようにした。
- 環境変数の有無やブラウザ実行かどうかを明示的にチェックし、誤った設定時にユーザーへ即座にフィードバック。

## 2. アニメーションの最適化
- `LazyMotion` + `domAnimation` を wrap した `MotionProvider` をルートに配置し、各セクションの `motion.div` を `m.div` へ置き換え。これにより Framer Motion の機能バンドルが 1 度だけロードされ、重複を避けられる。
- 既存のトランジション/viewport 設定は維持しているため、UI を変えずにコストだけを削減できた。

## 3. 初期バンドルの軽量化
- ヒーロー以外のセクション (`About` / `Skills` / `Projects` / `Contact`) を `next/dynamic` で遅延読み込み。ファーストビューに必要なコード量を最小化しつつ、サーバーサイドレンダリングは従来通り確保。
- Section コンポーネントは分割後も同じ props/JSX を返すため、デザインやアクセシビリティを変えずにパフォーマンスだけを改善。

## 4. UI コンポーネント設計
- shadcn/ui ベースの `Input`/`Textarea` を `forwardRef` 化し、フォームライブラリとの親和性と可読性を両立。
- Tailwind v4 の design token (OKLCH) を globals.css で一元管理し、ライト/ダークテーマの色差や放射半径を CSS 変数化している。

## 5. その他メモ
- EmailJS のクレデンシャルは `.env.local` 管理、README でセットアップ手順を明示。
- Headless UI (Radix 系) と lucide-react に統一し、アクセシビリティとアイコンの一貫性をキープ。
